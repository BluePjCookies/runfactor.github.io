<h2>Submit Your Score</h2>
<form id="scoreForm">
    <label for="name">Name:</label>
    <input type="text" id="name" required>

    <label for="class">Class:</label>
    <input type="text" id="class" required>

    <label for="username">Username:</label>
    <input type="text" id="username" required>

    <button type="submit">Submit Score</button>
</form>

<p id="message"></p>

<script>
    const sheetAPI = "https://script.google.com/macros/s/AKfycbyGN_8xfZ1qImSsblILTOGrJxcStqAIXiQpEGBT3Syp_ZCtVm3o4speKuaBQORWsQvt/exec"; // Replace with your Web App URL

    document.getElementById("scoreForm").addEventListener("submit", async function(event) {
        event.preventDefault();

        const name = document.getElementById("name").value;
        const className = document.getElementById("class").value;
        const username = document.getElementById("username").value;
        const finalScore = localStorage.getItem("finalScore") || 0; // Retrieve the score from local storage

        const response = await fetch(sheetAPI, {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ name, class: className, username, score: finalScore })
        });

        const result = await response.json();
        document.getElementById("message").innerText = result.status === "success" ? "Score submitted!" : "Error submitting score.";
    });
</script>
